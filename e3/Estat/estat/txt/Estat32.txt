
  Estat/32/2.7 gamma, Estat32.exe номер сборки 18.328.
  Генератор HTML-статистики для Eserv/2.5 совместимого сервера.
  Авторские права (C) 1999-2001 EPE Labs., eutil@des-nt.tstu.ru.

  ДОКУМЕНТАЦИЯ

  
  ЧТО ЭТО ТАКОЕ
 ------------------------------------------------------------------------------

  Это программа для обработки логфайла MMDDstat.log от
  Eserv/2.5-совместимого сервера (С) Андрей Черезов,
  http://www.eserv.ru: построение графиков и генерация общей/детальной
  статистики для WWW/PROXY/FTP/MAIL серверов по ip адресам,
  пользователям, файловым запросам, письмам и т.д. за сегодняшний,
  прошедший, иной день или несколько дней. Программа работает как CGI
  скрипт. Свободно распространяемая версия исключает обсчет за
  несколько дней, запуск с консоли и некоторые другие опции.

  Estat/32 является самостоятельным WIN32 приложением и для своего
  функционирования не требует внешних интерпретаторов типа Perl или
  php3, что значительно ускоряет работу.


  ВОЗМОЖНОСТИ
 ------------------------------------------------------------------------------

  Сводная статистика по http/proxy/ftp/pop3/smtp серверам, и каждому
  серверу в отдельности: Подсчет количества заходов с каждого ip
  адреса, входящий/исходящий трафик и время онлайн для каждого из них.
  Подсчет количества заходов каждого пользователя, входящий/исходящий
  трафик и время онлайн. Статистика обращений к www и ftp узлам,
  входящий/исходящий трафик и время онлайн. Подсчет количества
  полученных каждым пользователем писем, трафик и время онлайн.
  Подсчет количества обращений по авторам писем, их трафик и время
  онлайн. Статистика обращений по адресатам, трафик и время онлайн.
  Обзор проходящей почты. Построение графиков. Общая и наивысшая
  статистика. Использование сервера по часам и дням.

  Обсчет производится за любой день или период времени, возможно
  ограничение по часам, напр. 09:00-17:59. Возможно установить показ
  www узлов по директориям (как в stathtml) или по конкретным файлам
  (как в analog). При обработке Proxy сервера результат может быть
  выведен с перечислением полных путей, перечислением доменных имен,
  либо списком папок первого уровня. Построение графика возможно как
  по количеству запросов, так и по трафику; за 100% графика может быть
  принят наивысший показатель по данному корпусу статистики либо общая
  сумма показателей.
  
  При обсчете статистики можно не учитывать определенные ip-адреса,
  имена пользователей, емайлы, узлы www, как поименно, так и при
  помощи масок. При общей исключающей маске возможен принудительный
  обсчет конкретных объектов. Возможно скрывать некоторые адреса
  емайл, при этом все равно учитывая в статистике их время и трафик.

  Кроме того, есть возможность обсчета статистики по всем указанным
  ранее параметрам для конкретного ip адреса, пользователя, www узла,
  емайла отправителя или получателя. Т.е. возможно выяснение, какие
  именно сайты посещали с того или иного ip (или username), кому
  отправляли или от кого получали письма, в какое время, сколько
  передано/принято Кб в конкретные дни и часы, и т.п. В версии выше
  b.323 появилась возможность обсчитывать маску* ip адресов или узлов 
  веб, панель управления становится доступна после выбора протокола и 
  первичного обсчета.


  НАСТРОЙКА
 ------------------------------------------------------------------------------

  Для первоначальной настройки достаточно положить содержимое каталога
  cgi-bin (3 файла) в соответствующую WWW директорию (напр.:
  wwwroot\cgi-bin) с правами "All 1" или "Administrators 1" и изменить
  путь к Eserv в файле конфигурации Estat32.ini. Содержимое каталога
  html (4 файла) можно разместить в любом месте на вашем WWW сервере
  (напр.: wwwroot\estat). В файле Index.html (11 строка сверху) и
  up.html (98 строка) измените ссылку на скрипт, прописав
  реальный путь и порт, на котором функционирует www сервер Eserv,
  напр. src="http://myhost.com:3128/cgi-bin/Estat32.exe" См. также
  файл estat32-chainik.txt из комплекта поставки. После этих
  манипуляций статистика уже должна работать.


  ДОПОЛНИТЕЛЬНЫЕ НАСТРОЙКИ:

  Если нужно изменить часовой период времени обсчета, подставляемый
  при заходе на страницу статистики по умолчанию, напр. на
  09:00-17:59, отредактируйте файл up.html секцию <!-- Time: -->,
  проставив " selected>" напротив нужных строк. Там же можете изменить
  настройки по умолчанию для полей <!-- Server: --> и <!-- Date: -->.

  Если при построении статистики необходимо игнорировать некоторые ip
  адреса, имена пользователей или отправителей писем, веб узлы или
  адреса получателей, используйте для этого ключевые слова
  IP{Mask}Ignore, User{Mask}Ignore, Request{L||R}{Mask}Ignore согласно
  указанным в файле Estat32.ini примерам. В закомментированных
  заглавных примерах в фигурных скобках справа указано наибольшее
  возможное количество параметров и их максимальная длина в символах,
  например для ключевого слова -

  ; // RequestRMaskIgnore #{*request_mask}{6 on 34}

  возможно задать 6 *масок (т.е. 6 таких исключающих строк) с
  максимальной длиной значения 34 символа. Если вы указали
  игнорировать при обсчете файлы *.gif, но вам необходимо иметь
  статистику о ваших баннерах, имеющих такое же расширение,
  используйте ключевое слово -

  ; // RequestDirInclude #{/path/*}{3 on 80}

  где вы можете указать путь до ваших баннеров.

  При участии ваших пользователей в списках рассылки, в случае когда
  адрес отправителя генерируется почтовым сервером рассылки
  автоматически, имея одинаковый домен, но подставляя каждый раз новое
  имя пользователя, статистика SMTP протокола засоряется длинными
  списками этих технических адресов, особенно при активной работе
  списка рассылки. В таком случае возможно скрыть эти адреса, в то же
  время подсчитывая трафик пользователей.
  Используйте ключевое слово

  ; // UserMaskHide #{*mask}{6 on 50}

  Есть возможность выбирать стиль статистики узлов веб для http
  протокола - по директориям (как в stathtml) или по конкретным файлам
  (как в analog), для этого изменяйте значение ключевого слова

  ; // HTTPStyle #{Files||Directory}

  Для того, чтобы статистика Proxy сервера выводилась не по конечным
  путям, посещаемым пользователями, а только по хостам, или по папкам
  первого уровня, также измените соответствующую опцию в Estat32.ini

  ; // ProxyStyle #{Hosts||UnderHosts||Default}

  Чтобы определить тип графика, используйте параметры

  ; // GraphicFactor #{Login||Kb}
  ; // GraphicPercent #{Top||Total}

  Первый - для определение фактора, на который график должен
  ориентироваться: кол-во запросов или траффик. Второй - для указания
  скрипту, что он должен брать за 100% при построении: общую сумму или
  наивысший показатель.
       
  
  АВТОРСТВО
 ------------------------------------------------------------------------------

  Разработчиком данного Программного Обеспечения является Андрей
  Волков, EPE Labs. Распространяется ПО на правах as is, ShareWare,
  есть "урезанная" свободно распространяемая версия. Если Вы решили
  использовать ПО и далее, или хотите воспользоваться возможностями,
  предусмотренными для коммерческой версии, требуется регистрационная
  оплата в размере и на условиях, указанных в файле register-nfo.txt 
  из комплекта поставки. См. также файл license.txt.

  
  ENJOY!
