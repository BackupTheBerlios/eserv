
Периодическое автосохранение квот 
 ext\quotas_auto_save.f 
 подключается в activate.f 
 По умолчанию активно, сохраняет каждые 10 минут

---

Если сотня пользователей и нужно каждому назначить свой канал,
то следует и создавать и назначать каналы автоматизированно.
Через веб-интерфейс - не то.

---

Для контроля трафика ftp-proxy
каналы назначать в ftp-proxy\OnRequest.rules.txt
аналогично как в trafc\Assign.rules.txt (+ NewlyCanalsKit в начале),
учитывая, что в ftp-proxy актуально только часть
параметров, доступных для http-proxy.


---
Для tcpmap - аналогично:
 tcpmap\OnRequest.rules.txt


---

Двунаправленные каналы?

Теперь каналы однонаправленные.

Есть трафик 'от нас', и трафик 'к нам'. 
Через канал может идти или один из них, или другой, 
или оба (специфичный случай, через web-интерфес этого выбора нету).

---

Quotas.list.txt и Bands.list.txt ?

Чтобы эти описания подключались, надо раскомментировать 
соответствующие строки в trafc\activate.f

Отличия  *.rules.txt  от  *.list.txt в том, что
содержимое первого - сравнительно произвольно, 
а второй - четко фиксированного формата.

*.list.txt обрабатывается скриптами.
Каналы, объявленные в *.rules.txt, через web-интерфейс не доступны.

---

Как удалять старые логи, и т.п. ?

Пуржером (purger), старее заданного числа дней, или по размеру. 
Сейчас само ничего не удаляется.
Есть пуржер (Eproxy\agents\eachfile.exe), который должен запускаться планировщиком.
В Eproxy нет встроенного планировщика,  
но можно использовать:
 nnCron. Scheduler and monitor.
 Copyright (C) 2000,2001 Nicholas Nemtsev.
    e-mail:nn@vdk.psc.ru
    http://nemtsev.virtualave.net/
    http://nemtsev.virtualave.net/progs/nncron1.exe
                                        - last version of nnCron.

Если назреет необходимость, сделаем встроенный
планировщик.

---

Какие файлы/каталоги надо пуржить ?

  Eproxy\Eproxy.log
  Eproxy\control\acWEB.log
  Eproxy\cache\
  Eproxy\conf\http-proxy\plugins\TrafC\log\ 
  Eproxy\conf\http-proxy\plugins\TrafC\save\quota\

