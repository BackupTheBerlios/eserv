
---
Q10 - как назначаются приоритеты?

если это делать через web - то задумываться особо не надо ;)

в правилах:

Priority: nnn

Или

nnn Priority!


---
Q11 - что такое в "Assign.rules.txt": "+" и " ' " ?;

Единственным стандартным резделителем является пробел (ну и символы <32)
Все остальные символы - равноправны.

"+CanalIn`"  - одно слово.
Плюс _символизирует_ добавление канала в набор,
а символ ` - что имя канала берется далее из текста.
In - что канал добавляется в набор для входного направления.
Out ( или Ot ) - в набор для выходного направления.

---
Q12 вижу в примере "CanalIn", значит есть "CanalOut"?,
да, есть (без кавычек)  "+CanalOt`" и "+CanalOut`" (синоним)

При желании, можно легко добавлять любые синонимы.

---
Q12 а двунаправленный просто "Canal"?

нет.
С верси TrafC 2.1 каналы, объявляемые через Band:  и Quota:
являются  _однонаправленными_.

Есть трафик 'от нас', и трафик 'к нам'. Через канал может идти
или один из них, или другой, или оба (специфичный случай, через
web-интерфес этого выбора нету).

---
Q13 "DefBands.rules.txt и DefQuotas.rules.txt  ручное описание band-каналов" ?

для особо продвинутых ;)
Чтобы эти описания подключались,
надо раскомментировать соответствующие строки в trafc\activate.f

Отличия  *.rules.txt  от  *.list.txt в том, что содержимое первого -
сравнительно произвольно, а второй - четко фиксированного формата.


---
Q13 "Quotas.list.txt и Bands.list.txt генерится автоматически" - когда и кем?

эти файлы изменяются _скриптами_, при конфигурировании через web-интерфейс.

---
Q14 Что значит "выделенной части трафика "?
   Если я использую правило:
   "URL =~ https://www.somehost.com/* |  Priority: 2 \EOF"
   является ли это "выделенной части трафика " и работает ли в этом случае приритет?

да, конечно:  таким образом выделяется часть трафика (на заданный
сервер и по заданному протоколу), и этой части назначается приоритет 2.

Но следует учесть, что 'конкуренция' разных частей трафика происходит
только в band-каналах. Поэтому надо, чтобы конкурирующие части трафика
проходили хотя бы через один общий band-канал.

---
Q15 Значит ли это, что приритет задан только на исходящий трафик?

нет. Приоритет - на весь.
Раздельный приоритет на входное и выходное направление Не предусмотрен.
Если это надо - сделаем.

---
Q16 Как сделать ограничение и туда и обратно?

Вообще, для http исходящий трафик гораздо меньше входящего.
Реальной выходной полосы наверняка (кроме случаев разной полосы туда/сюда)
хватит на всех (т.к. при ограничении скорости входящего трафика, исходящий
тоже замедляется. А их соотношение остается тем же).

Но если надо ограничить некоторую часть трафика и туда и обратно,
создаем два канала и оба их назначаем, но один на вход, другой на
выход.

Правило может быть, например, таким:
 URL =~ *onehost* |  Priority: 2  +CanalIn` B_onehost_in  +CanalOt` B_onehost_ot

---
QN1  Очень хотелось бы проконтролировать работу приоритетов.

Это возможно сделать и сейчас, хоть и несколько искусственно.

Для каждой части трафика (или приоритета), который хотим посмотреть
отдельно, создаем band-канал (с полосой ~>= реальной полосе, чтобы он
ничего не задерживал)   и назначаем его так, чтобы через этот
канал шел ТОЛЬКО избранный трафик.

В статистике каналов смотрим соотношение скоростей, и т.п.


---
