<H2>Антивирусная проверка трафика прокси-сервера</H2>

<p>Этот модуль работает совместно с модулем кэширования.
На наличие вирусов проверяются страницы, файлы, и т.д.,
проходящие через http-прокси. Проверка осуществляется в
два этапа:
<ol>
<li>Проверка "на лету". Получаемая информация проверяется
в процессе получения - если обнаружена вирусная сигнатура,
прием файла прерывается, и клиенту (браузеру) этот
последний фрагмент файла не попадает - вместо него будет
передано название вируса.
<li>Проверка после приема полного файла. Если "на лету"
вирус обнаружен не был, то по окончании приема файла
также производится еще одна проверка - полного файла, 
записанного в кэш.
</ol>
<p>
Журнал антивирусной проверки - log\av.log. В случае отсутствия
вирусов пишется строка вида "дата время AvScanFile OK имя файла".
При наличии вируса туда запишется AvScanFile INFECTED или
AvScanMemory INFECTED и имя вируса, а также URL или имя
файла.
<p>
В Squid-совместимом статистическом журнале Eproxy.log в
случае обнаружения вируса соответствующая строка журнала
будет содержать VIRUS_TERM вместо TCP_HIT, TCP_MISS и
прочих "нормальных" кодов.
<p>
Особые правила антивирусной проверки можно задать в файле
Eproxy\conf\http-proxy\plugins\antivirus\OnRequest.rules.txt.
По умолчанию там только команда "AvScan", включающая режим
проверки. При необходимости можно отключать проверку по
любым условиям (правилам). Например:<br>
<pre>URL =~ http://localhost* | AvNoScan</pre>
означает "не проверять файлы на localhost".


