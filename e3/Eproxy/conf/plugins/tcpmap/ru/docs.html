<H2>Отображение серверов TCPMAP</H2>

<p>Если прикладная программа на компьютере пользователя умеет работать
с интернетом, но не умеет работать через прокси-серверы (http, socks), 
то она не сможет соединиться с интернет-серверами, находясь внутри
локальной сети. Однако, если IP-адрес сервера не "зашит" жестко в
программе, то её можно заставить работать и из локальной сети. Для
этого на прокси-сервере программно организуется "копия" целевого сервера,
называемая обычно отображением. Работа отображения состоит в приеме
соединений от клиентских компьютеров в ЛС, соединении с внешним целевым
сервером и последующая работа каналом между ними. Эта работа осуществляется
прозрачно - всё, что поступает от клиента, передается на целевой сервер,
а всё что отвечает сервер - передается клиенту.
<p>
Для организации отображения нужного внешнего сервера прокси-серверу
необходимо знать имя или IP-адрес целевого сервера и номер порта,
а также на какой свой порт отобразить этот сервис. Обычно номер порта
один и тот же. А в клиентских программах указывается не имя внешнего сервера 
(который недоступен из локальной сети напрямую), а имя машины с 
прокси-сервером. Тогда клиентская программа будет соединяться с
TCPMAP на прокси, а прокси будет работать каналом между клиентом и
целевым сервером.
<p>
Если в клиентской программе жестко зашито доменное имя сервера,
то её можно "обмануть", записав в файле windows\system32\drivers\etc\hosts
(на NT,2000,XP) или \windows\hosts (на Win9x,ME) соответствие
этого доменного имени IP-адресу вашего прокси.
<p>
Список отображений в Eproxy по умолчанию ведется в файле conf\TcpMap.rules.txt.
Каждая строка имеет вид
<pre>
Port= [локальный_порт] | MAPTO: [целевой_сервер] [целевой_порт] \EOF
</pre>
Эта запись означает: "если клиент подключился на порт [локальный_порт],
то отобразить это подключение на [целевой_сервер]:[целевой_порт]
и прекратить обработку списка (\EOF)." При этом локальный_порт должен
быть из списка слушаемых прокси-сервером портов (задается в
conf\ListenPorts.rules.txt). При изменении списка слушаемых портов
требуется перезапуск прокси-сервера.
